@import "compass/css3/border-radius"
@import "compass/css3/gradient"

$spacing: 10px
$main_width: 900px
$label_width: 65px
$label_margin: $spacing
$label_full_width: $label_width + $label_margin

$font_size: 18px
$a_size: $font_size - 2px
$h1_size: $font_size * 1.7

$menu_colour: #932710
$title_colour: #cd7f12
$bg_colour: #ddd
$alert_dark: #933
$error_colour: #cd4d10
$link_colour: #4B7399
$notice_dark: #396
$alert_light: #f33
$notice_light: #4CC417

$main_height: 500px
$main_spacing_top: 2*$spacing
$main_spacing_side: 4*$spacing
$news_flow_container_width: 320px
$news_flow_container_height: $main_height - 2*$spacing
$side_menu_container_width: 190px
$side_menu_container_height: $news_flow_container_height

$news_flow_width: 250px

@mixin star-base($x, $y, $w: 47px, $h: 47px)
  left: $x
  top: $y
  position: absolute
  background-color: transparent
  width: $w
  height: $h
  z-index: 1
  display: block

$thumb_width: 50px
$thumb_horizontal_margin: 4px
$thumb_full_width: $thumb_width + $thumb_horizontal_margin
@mixin thumbs-base($width)
  div#thumbs
    div.pagination
      font-size: 16px
      a
        font-size: 14px
    ul
      margin: 0 auto
      text-align: center
      width: $width
      li
        list-style-type: none
        float: left
        margin-right: $thumb_horizontal_margin
      span#gallery
        float: left
        text-align: center
        width: $width
        font-size: 12px
        a
          font-size: 12px
        
$main_subcontainer_width: 260px
@mixin main-subcontainer-base
  width: $main_subcontainer_width
  margin: 0 auto
  padding: 20px 0      
@mixin time-base
  font-size: 12px
  color: $title_colour

@mixin red-gradient
  color: white
  font-weight: bold
  padding: 5px
  +border-radius(10px)
  +linear-gradient(color-stops(gray, black))

@mixin white-gradient
  color: black
  font-weight: bold
  padding: 5px
  +border-radius(10px)
  +linear-gradient(color-stops(gray, white))

@mixin custom_gradient($light, $dark, $corner: 10px)
  color: white
  font-weight: bold
  padding: 5px
  +border-radius($corner)
  +linear-gradient(color-stops($light, $dark))

$field_width: 186px
$textarea_width: $field_width
$textarea_height: 180px
$void_form_label_width: 150px
$void_form_label_spacing: $spacing
$void_form_label_full_width: $void_form_label_width + $void_form_label_spacing
@mixin formtastic_base($width)
  li
    font-size: 14px
    list-style-type: none
    p.inline-errors
      margin-left: $void_form_label_spacing + $width
      color: $error_colour
    p.inline-hints
      margin-left: $void_form_label_spacing + $width
      font-style: italic
    label
      text-align: right
      float: left
      width: $width
      margin-right: $void_form_label_spacing
    input
      width: $field_width
      +red_gradient
    textarea
      width: $textarea_width
      height: $textarea_height
      +red_gradient
    select
      +red_gradient
  input.submit
    +red_gradient
    margin: $spacing 0 0 $void_form_label_spacing + $width

div.clear
  clear: both
  height: 0
  overflow: hidden

body
  text-align: left

h1
  font-size: $h1_size
  color: white
  line-height: 30px
  text-shadow: 3px 3px 3px $title_colour
              

div#flash_notice
  float: left  
  margin-bottom: 5px
  padding: 3px 10px
  border: 1px solid black
  +custom_gradient($notice_light,$notice_dark)
div#flash_alert
  float: left
  margin-bottom: 5px
  padding: 3px 10px
  border: 1px solid black
  +custom_gradient($alert_light,$alert_dark)

$star_base_y: 0px
$star_base_x: 40px
$star1_x: $star_base_x + 37px
$star1_y: $star_base_y + 162px
$star2_x: $star_base_x + 352px
$star2_y: $star_base_y + 427px
$star3_x: $star_base_x + 561px
$star3_y: $star_base_y + 77px
$star4_x: $star_base_x + 800
$star4_y: $star_base_y + 0
$star5_x: $star_base_x + 650
$star5_y: $star_base_y + 400
$star6_x: $star_base_x + 600
$star6_y: $star_base_y + 400
$side_bar_container_width: 170px
$tweet_container_width: $side_bar_container_width
div#container
  a
    color: $link_colour
    text-decoration: none
    font-size: $a_size
  font: normal $font_size "Helvetica Neue", Arial, Helvetica, sans-serif
  width: $main_width
  margin: 4*$spacing auto
  div#contents
    height: $main_height
    padding: $main_spacing_top $main_spacing_side
    border: 1px solid black
    +border-radius($spacing)
    background: black url('/images/red_moon_mizuki2.png') no-repeat scroll top left
    color: white
    position: relative
    div#star1
      +star-base($star1_x,$star1_y)
    div#star2
      +star-base($star2_x,$star2_y)
    div#star3
      +star-base($star3_x,$star3_y)
    div#star4
      +star-base($star4_x,$star4_y,71px,64px)
    div#star5
      +star-base($star5_x,$star5_y)
    div#star6
      +star-base($star6_x,$star6_y,71px,64px)
    div#picture_container
      width: 400px
      height: 370px
      float: right
      +border-radius(10px)
      background: rgba(20,20,20,0.5)
      border: 1px solid white
      div#controls
        text-align: center
        a
          font-size: 14px
      div#slideshow
        height: 300px
        text-align: center
        position: relative
        span.image-wrapper
          height: 300px
          position: absolute
          top: 0
          left: 0
          a
            height: 300px
            width: 400px
            display: block
            text-align: center
            img
              height: 290px
              top: 0
      div#caption
        position: relative
        span.image-caption
          width: 400px
          position: absolute
          top: 0
          left: 0
          div.caption
            text-align: center
            font-size: 12px
            a
              font-size: 12px
    div#picture_thumbnails_pusher
      width: 400px
      height: 190px
      float: right
    div#picture_thumbnails_container
      width: 380px
      height: 160px
      float: right
      +border-radius(10px)
      background: rgba(20,20,20,0.5)
      border: 1px solid white
      padding: $spacing
      +thumbs-base($thumb_full_width*7)
    div#thumbnails_pusher
      float: right
      width: 300px
      height: 320px
    div#thumbnails_container
      padding: 5px
      float: right
      margin-right: 2px
      height: 150px
      width: 290px
      border: 1px solid white
      +border-radius(10px)
      +thumbs-base($thumb_full_width*5)
      div#thumbs
        padding: 5px 10px
        div.pagination
          width: 100px
          float: left        
        ul
          div#bottom_links
            float: right  
            line-height: 15px
            margin-right: 5px
            a
              font-size: 12px
    div#main_container
      width: $news_flow_container_width
      height: $news_flow_container_height 
      +border-radius(10px)
      background: rgba(20,20,20,0.5)
      border: 1px solid white
      float: right
      div#form
        text-align: left
        padding: $spacing
        color: white
        div#bottom_links
          margin-top: $spacing
          text-align: right
          margin-right: $spacing*2
          font-size: 12px
          a
            font-size: 12px
        form
          +formtastic_base($label_width)
      div#list
        +main-subcontainer-base
        ul
          li          
            list-style-type: none
            line-height: 16px
            margin-bottom: $spacing/2
            span#title            
              float: left
              width: 150px
              font-weight: bold
              a
                color: white
            span#links
              a
                font-size: 12px
            span#time
              +time-base
        +thumbs-base($thumb_full_width*4)
        div#controls
          text-align: center
          a
            font-size: 14px
        div#slideshow
          height: 380px
          position: relative
          span.image-wrapper
            position: absolute
            a
              img
                width: $main_subcontainer_width - 10px
        div#caption
          position: relative
          span.image-caption
            position: absolute
            width: $main_subcontainer_width
            div.caption
              text-align: center
              font-size: 12px
              a
                font-size: 12px
        div#bottom_links
          margin-top: $spacing/2
          text-align: right
          a
            font-size: 14px

      ul#news_flow
        width: $news_flow_width
        margin: 0 auto
        li.event
          list-style-type: none
          margin-bottom: $spacing
          h1
            text-align: center
            margin-bottom: 0
          div#time
            +time-base
            text-align: center
            margin: 0
            padding: 0
          div#top_links
            text-align: center
            font-size: 12px
            a
              font-size: 12px
          div#content
            text-align: center
            line-height: 20px
            font-size: 14px
            span#continue
              display: block
              text-align: right
              margin-right: $spacing
              a
                font-size: 12px
    div#side_menu_container
      width: $side_menu_container_width
      //height: $side_menu_container_height
      float: right
      div#side_bar_container
        width: $side_bar_container_width
        margin: 0 auto 0 auto
        div#side_bar
          ul
            float: right
            li
              padding-right: 5px
              width: 180px
              text-align: right
              position: relative
              list-style-type: none
              border: 1px solid black
              a
                color: white
                text-shadow: 2px 2px 2px $link_colour
                font-size: 25px
            li.selected
              background: black
              border: 1px solid white
              +border-radius(10px)
      div#tweet_container
        width: $tweet_container_width
        margin: 100px auto 0 auto
        h1
          text-align: right
          font-size: 25px
          margin: 0
          text-shadow: 3px 3px 3px $title_colour
        div.tweet
          margin-top: $spacing
          div#ago
            font-size: 12px
            text-align: right
            color: $title_colour
          div#content
            text-align: right
            font-size: 14px
    //+linear-gradient(color-stops(white, $bg_colour 33%, white), left)
    div#void
      float: right
      div#message
        float: right
      form
        p
          input
            +red_gradient
          input.submit
            margin-top: $spacing
            margin-left: 0
        +formtastic_base($void_form_label_width)
            
    div#user_nav
      float: right
      margin: 0 10px 2*$spacing 0
      padding-top: 0
      a
        +border-radius($spacing)      
        +white_gradient
        padding-bottom: 3px
        border: 1px solid white
        font-size: 12px
    div#table
      margin-top: $spacing*2
      color: white
      float: right

